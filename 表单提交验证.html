<!doctype html>
<html>
<head>
<meta charset="utf-8">
<style>
*{ margin:0; padding:0; list-style:none; font-family: "微软雅黑","张海山锐线体简"}
input{border:#999 solid 1px;}
.ok{border:#0C3 solid 1px;}
.error{border:#f00 solid 1px;}
</style>
<script>
window.onload=function(){
	checkForm('fm');	
};
function checkForm(id){
	var oForm=document.getElementById(id);
	var aIpt=oForm.getElementsByTagName('input');
	
	
	var json={
		mail:	/^\w+@[a-zA-Z0-9]+\.[a-z]{2,3}(\.[a-z0-9]{2,3})?$/,
		tel:	/^(0[1-9]\d{1,2}-)?[1-9]\d{6,7}$/,
		age:	/^(1[8-9]|[2-9]\d|100)$/,	
		user:	/^[\u4e00-\u9fa5]+$/,	
	}
		
	oForm.onsubmit=function(){
		var bOk=true;
		for(var i=0;i<aIpt.length;i++){
			if(aIpt[i].name)
				if(!check(aIpt[i])){
					bOk=false;	
				}
			}
		}
		if(bOk==false){
			return false;	
		}
	};
	
	function check(obj){
		if(json[obj.name]){
			if(!json[obj.name].test(obj.value)){
				obj.className='error';
				return false;
			}else{
				obj.className='ok';	
				return true;
			}
		}else{
			return true;	
		}
			
	}
	
	for(var i=0;i<aIpt.length;i++){
		if(aIpt[i].name){
			aIpt[i].onblur=function(){
				check(this);
			};	
		}
	}
};
</script>
</head>

<body>

<form action="xxx.php" id="fm">
	邮  箱:<input type="text" name="mail" value="alex@qq.com"><br>
    座机号:<input type="text" name="tel" value="021-87654321"><br>
    年纪:<input type="text" name="age" value="18"><br>
    用户名:<input type="text" name="user" value="无忌"><br>
    xxx:<input type="text" name="xx" value="xx"><br>
    <input type="submit" value="提交">
</form>

</body>
</html>
